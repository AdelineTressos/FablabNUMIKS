
{% extends 'visitor/index.html.twig' %}

{% block title %}Reservations{% endblock %}
{% block stylesheets %}
    {{parent()}}
    <link rel="stylesheet" href="{{ asset('assets/styles/charter.css') }}">
    <link rel="stylesheet" href="{{ asset('assets/styles/profile_member.css') }}">
	<link rel="stylesheet" href="{{ asset('assets/styles/dimensionpage.css') }}">
{% endblock %}

{% block main %}
<div class="background-image"></div>
	<div class="container-fluid mt-3 mb-3">
		<div class="row justify-content-center main-content">
			<div class="col-md-10">
				<div class="card custom-card shadow">
					<div class="card-header custom-card-header text-center">
						<h1 class="h1 mt-2 h1-profile">Mes réservations</h1>
					</div>
					<div class="card-body">
						<div class="mb-2 table-responsive">
                            <table class="table table-striped table-borderless">
                                <thead>
                                    <tr>               
                                        <th>Date de la réservation</th>
                                        <th>Heure de début</th>
                                        <th>Heure de fin</th>
                                        <th>Pôle réservé</th>
                                        <th>Machine réservée</th>
                                        <th>Validation par le Fablab</th>
                                    </tr>
                                </thead>
                                <tbody>
                                {% for reservation in reservations %}
                                    <tr>
                                        <td>{{ reservation.dateReservation ? reservation.dateReservation|date('d-m-Y') : '' }}</td>
                                        <td>{{ reservation.startHour ? reservation.startHour|date('H:i:s') : '' }}</td>
                                        <td>{{ reservation.endHour ? reservation.endHour|date('H:i:s') : '' }}</td>
                                        <td>{{reservation.workspace}}</td>
                                        <td>{{reservation.machine}}</td>
                                        {% if reservation.isValidated %}
                                            <td>Validée</td>
                                        {% else %}
                                            <td>Refusée</td>
                                        {% endif %}
                                        
                                    </tr>
                                {% else %}
                                    <tr>
                                        <td colspan="7">Vous n'avez aucune réservation</td>
                                    </tr>
                                {% endfor %}
                                </tbody>
                            </table>
				        </div>
			        </div>
        		</div>
                <div class="container text-center mb-3 mt-2">
                    <p>
                        Si votre réservation est refusée, ou pour modifier/supprimer une réservation, <a href="{{ path('app_contact') }}">contacter le Fablab </a>
                    </p>
                </div>
	        </div>
        </div>
	</div>
</div>  
{% endblock %}
